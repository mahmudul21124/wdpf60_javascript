<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        form {
            line-height: 30px;
        }

        #show {
            color: red;
        }
    </style>
</head>

<body>
    <h2>EVENT REGISTRATION FORM</h2>

    <div id="show"></div>

    <form action="thank_you.html" name="eform" onsubmit="return eventValid()">
        Name:
        <input type="text" name="fname" placeholder="Enter first name"> &nbsp;&nbsp;&nbsp;
        <input type="text" name="lname" placeholder="Enter last name"><br>

        Company: <input type="text" name="cname" placeholder="Enter Company Name"><br>
        Email : <input type="text" name="email" placeholder="Enter email"><br>
        Phone :
        <select name="phone">
            <option value="">Select One</option>
            <option value="+880">+880</option>
            <option value="+998">+998</option>
            <option value="+977">+977</option>
            <option value="+055">+055</option>
        </select>&nbsp;&nbsp;
        <input type="text" name="number" placeholder="Enter number"><br>

        Subject:
        <select name="subject">
            <option value="">Select One</option>
            <option value="PHP">PHP</option>
            <option value="HTML">HTML</option>
            <option value="JavaScript">JavaScript</option>
        </select><br>
        Are you an existing customer?<br>
        <input type="radio" name="a" value="Yes"> Yes
        <input type="radio" name="a" value="No"> No <br>

        <button type="submit">REGISTER</button>

    </form>

    <script>
        function eventValid() {
            let fname = document.eform.fname.value;
            let lname = document.eform.lname.value;
            let company = document.eform.cname.value;
            let email = document.eform.email.value;
            let phone = document.eform.phone.value;
            let number = document.eform.number.value;
            let subject = document.eform.subject.value;
            let a = document.eform.a.value;
            let pattern = /[A-z0-9]+@[A-z]+\.[a-z]/;
            let result = email.search(pattern);

            const errors = [];

            
            if (fname == "") {
                errors[errors.length] = "First name can't be empty"
            }
            if (lname == "") {
                errors[errors.length] = "Last name can't be empty"
            }
            if (company == "") {
                errors[errors.length] = "Company name can't be empty"
            }
            if (email == "") {
                errors[errors.length] = "Email can't be empty"
            } 
            else if (result == -1){
                errors[errors.length] = "Enter a valid email"
            }
            if (phone == "") {
                errors[errors.length] = "Phone can't be empty"
            }
            if (number == "") {
                errors[errors.length] = "Number can't be empty"
            }
            if (subject == "") {
                errors[errors.length] = "Subject can't be empty"
            }
            if (a == "") {
                errors[errors.length] = "Comment can't be empty"
            }
            // if (result == -1){
            //     errors[errors.length] = "Enter a valid email"
            // }

            if (errors.length > 0) {
                let ErrorOutput = "<ul>";
                for (let i = 0; i < errors.length; i++) {
                    ErrorOutput += "<li>" + errors[i] + "</li>";
                }
                ErrorOutput += "</ul>";

                document.getElementById("show").innerHTML = ErrorOutput;
                return false;
            }
            else{
                // document.getElementById("show").innerHTML = "";
                return true;
            }




        }
    </script>

</body>

</html>